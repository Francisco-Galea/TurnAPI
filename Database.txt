CREATE TABLE Accounts (
	AccountId INT PRIMARY KEY NOT NULL IDENTITY (1,1),
	Document INT NOT NULL UNIQUE,
	Name NVARCHAR(30) NOT NULL,
	LastName NVARCHAR(30) NOT NULL,
	PhoneNumber NVARCHAR(40),
	Password NVARCHAR(MAX) NOT NULL
);

CREATE TABLE Companies (
	CompanyId INT PRIMARY KEY IDENTITY (1,1),
	CompanyName NVARCHAR(30) NOT NULL,
	SocialName NVARCHAR(50) NOT NULL UNIQUE,
	Cuit NVARCHAR(40) NOT NULL,
	FounderAccountId INT NOT NULL FOREIGN KEY (FounderAccountId) REFERENCES Accounts(AccountId)
);

CREATE TABLE Employees 
(
	EmployeeId INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	PositionInCompany NVARCHAR(40) NOT NULL,
	DescriptionOfPosition NVARCHAR(MAX),
	AccountId INT NOT NULL FOREIGN KEY (AccountId) REFERENCES Accounts (AccountId),
	CompanyId INT NOT NULL FOREIGN KEY (CompanyId) REFERENCES Companies (CompanyId),
	IsActive BIT NOT NULL DEFAULT 1
);

CREATE TABLE Agendas 
(
	AgendaId INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	CompanyId INT NOT NULL FOREIGN KEY (CompanyId) REFERENCES Companies (CompanyId),
	Name NVARCHAR(30) NOT NULL,
	Description NVARCHAR(80),
	TurnDurationInMinutes INT NOT NULL
);

CREATE TABLE AgendaSchedules 
(
	AgendaScheduleId INT NOT NULL PRIMARY KEY IDENTITY(1,1),
	AgendaId INT NOT NULL FOREIGN KEY (AgendaId) REFERENCES Agendas (AgendaId),
	WorkableDay NVARCHAR(9),
	TurnInit TIME(2) NOT NULL,
	TurnEnd Time(2) NOT NULL
);